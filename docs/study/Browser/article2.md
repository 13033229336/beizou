# 前端之性能优化方法

目的：提高页面加载速度，优化用户的访问体验。



#### 页面内容

在加载阶段，核心的优化原则是：优化关键资源的加载速度，减少关键资源的个数，降低关键资源的 RTT 次数。

在交互阶段，核心的优化原则是：尽量减少一帧的生成时间。可以通过减少单次 JavaScript 的执行时间、避免强制同步布局、避免布局抖动、尽量采用 CSS 的合成动画、避免频繁的垃圾回收等方式来减少一帧生成的时长。
1. 通过文件合并、css雪碧图、base64等方式来减少HTTP请求数，避免过多的请求造成等待的情况
2. 通过DNS缓存等机制来减少DNS的查询次数
3. 通过设置缓存策略，对常用不变的资源进行缓存
4. 使用延时加载方式，减少首页首屏加载时需要的请求。只有当用户需要访问时再去请求资源
5. 对某些资源使用预加载的方式，提高用户需要访问资源的响应速度

#### 服务器方面

1. 使用CDN服务，来提高用户对资源请求时的响应速度
2. 服务器端启用Gzip等方式对于传输的资源进行压缩，减少文件的体积

#### css 和 js 方面

1. 把样式放在页面的head标签中，减少页面的首次渲染时间。
2. 避免使用@import 标签
3. 把JS脚本放在页面底部或者使用defer 或async 属性，避免甲苯的加载和执行堵塞页面的渲染
4. 压缩js 和css 文件，减少文件的体积



### defer和 async的区别

defer： 延迟执行，同HTML同时加载，解析完毕后执行脚本文件，多个脚本顺序执行

async:    异步执行， 如果已经加载好，就会开始执行，但是执行会阻塞文档的解析，但是加载不会阻塞，多个脚本的执行顺序无法保证
